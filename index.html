<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!--
    ABC Horror
    Run locally with any static server, for example:
    python -m http.server
  -->
  <title>ABC Horror</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main id="app">
    <section id="start-screen" class="screen active">
      <div class="card">
        <h1>ABC Horror</h1>
        <p class="subtitle">A spooky, kid-safe quiz night in the office.</p>

        <div class="field-group">
          <label>Choose your grade</label>
          <div class="grade-options" role="radiogroup" aria-label="Grade selection">
            <button class="chip" data-grade="1">1</button>
            <button class="chip" data-grade="2">2</button>
            <button class="chip" data-grade="3">3</button>
            <button class="chip" data-grade="4">4</button>
            <button class="chip" data-grade="5">5</button>
          </div>
        </div>

        <div class="field-group">
          <label>Categories</label>
          <div id="category-options" class="category-options" role="group" aria-label="Category selection"></div>
        </div>

        <div class="field-group">
          <label>Choose a profile</label>
          <div id="profile-options" class="profile-options" role="radiogroup" aria-label="Profile selection"></div>
          <div class="profile-create">
            <input id="profile-name" type="text" placeholder="New profile name" />
            <button id="create-profile" class="ghost" type="button">Add Profile</button>
          </div>
        </div>

        <button id="start-btn" class="primary">Start Night</button>
        <p class="note">Tip: Use keys 1‚Äì4 for multiple choice. Press R to re-read.</p>
      </div>
    </section>

    <section id="game-screen" class="screen">
      <div class="overlay vignette"></div>
      <div class="overlay flicker"></div>
      <div class="overlay static"></div>
      <div id="power-flicker" class="overlay power-flicker" aria-hidden="true"></div>
      <div id="random-flicker" class="overlay random-flicker" aria-hidden="true"></div>
      <img id="flicker-sprite" class="overlay flicker-sprite" src="flicker.png" alt="" aria-hidden="true" />
      <div id="shadow-edge" class="shadow-edge" aria-hidden="true"></div>

      <header class="hud">
        <div>
          <div class="label">Night Progress</div>
          <div class="bar">
            <div id="progress-bar" class="bar-fill"></div>
          </div>
        </div>
        <div>
          <div class="label">DREAD</div>
          <div class="bar danger">
            <div id="dread-bar" class="bar-fill"></div>
          </div>
        </div>
        <div class="hud-stats">
          <span id="player-name">Player</span>
          <span id="mode-label">Night Shift</span>
          <span id="timer" class="timer hidden">00</span>
        </div>
      </header>

      <div id="lore-overlay" class="lore-overlay hidden" role="dialog" aria-live="polite" aria-label="Night briefing">
        <div class="lore-card">
          <span id="lore-night" class="lore-night">Night 1 of 5</span>
          <h2 id="lore-title">Overnight Orientation</h2>
          <p id="lore-subtitle" class="lore-subtitle"></p>
          <button id="lore-continue" class="primary">Begin Night</button>
        </div>
      </div>

      <div class="question-panel" role="region" aria-live="polite">
        <span id="category" class="badge">Category</span>
        <div class="question-controls">
          <button id="reread-btn" class="ghost" type="button">üîÅ Re-read</button>
        </div>
        <h2 id="prompt">Question prompt</h2>
        <p id="passage" class="passage hidden"></p>
        <div id="choices" class="choices"></div>
        <div id="input-area" class="input-area hidden"></div>
        <div id="keyboard" class="keyboard hidden" aria-hidden="true"></div>
        <div id="feedback" class="feedback hidden"></div>
      </div>
    </section>

    <section id="win-screen" class="screen">
      <div class="card">
        <h2 id="win-title">You Survived the Night</h2>
        <p id="stats"></p>
        <button id="next-night" class="primary">Next Night</button>
        <button id="back-home" class="ghost">Back to Menu</button>
      </div>
    </section>

    <div id="jumpscare" class="jumpscare hidden" aria-hidden="true">
      <img id="jumpscare-image" src="scare.png" alt="Spooky silhouette" />
      <div class="jumpscare-message">
        <h2>You're Out of Time</h2>
        <p>The office went dark. Want to try again?</p>
        <button id="retry-btn" class="primary">Retry Night</button>
      </div>
    </div>

    <div id="badge-toast" class="badge-toast hidden" role="status" aria-live="polite"></div>
  </main>

  <script src="question-utils.js"></script>
  <script src="app.js"></script>
</body>
</html>
